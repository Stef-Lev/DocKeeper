[{"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\BasicPage.js":"1","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\index.js":"2","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\NewDocButton.js":"3","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\DocItem.js":"4","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\App.js":"5","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\EditPage.js":"6","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\SearchBox.js":"7","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\DocPage.js":"8"},{"size":2146,"mtime":1619817714112,"results":"9","hashOfConfig":"10"},{"size":230,"mtime":1619457988357,"results":"11","hashOfConfig":"10"},{"size":671,"mtime":1619457988356,"results":"12","hashOfConfig":"10"},{"size":2037,"mtime":1619709102748,"results":"13","hashOfConfig":"10"},{"size":640,"mtime":1619782223434,"results":"14","hashOfConfig":"10"},{"size":4023,"mtime":1619817360302,"results":"15","hashOfConfig":"10"},{"size":1269,"mtime":1619782252206,"results":"16","hashOfConfig":"10"},{"size":1846,"mtime":1619988636327,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},"ihtrqh",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"21"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\BasicPage.js",["37","38","39","40"],"import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport DocItem from \"../components/DocItem\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport NewDocButton from \"../components/NewDocButton\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DATA_URL = \"http://localhost:3002/tutorials\";\r\n\r\nconst Container = styled.div`\r\n  padding: 32px 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: start;\r\n  align-items: center;\r\n  gap: 16px;\r\n`;\r\n\r\nconst Loader = styled(CircularProgress)`\r\n  color: rgba(5, 70, 90, 0.75);\r\n`;\r\n\r\n// Fetch title\r\n// Object.values(data._immutable.currentContent.blockMap).find(el => el.type === 'header-one').text\r\n\r\nfunction BasicPage() {\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    if (mounted) {\r\n      setLoading(true);\r\n\r\n      fetch(DATA_URL)\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          mounted && setData(result);\r\n        })\r\n        .catch(console.log(\"Error\"))\r\n        .finally(() => {\r\n          mounted && setLoading(false);\r\n        });\r\n    }\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  console.log(data);\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h1\" style={{ fontSize: \"2.5rem\" }}>\r\n        Document Keeper\r\n      </Typography>\r\n      <Typography variant=\"h2\" style={{ fontSize: \"2.2rem\" }}>\r\n        Docs\r\n      </Typography>\r\n      <SearchBox />\r\n      {loading && <Loader style={{ width: \"200px\", height: \"200px\" }} />}\r\n      {!loading &&\r\n        data.map((el) => (\r\n          <DocItem\r\n            key={`document_ID${el.id}`}\r\n            title={\r\n              el.content.blocks.find((item) => item.type === \"header-one\").text\r\n            }\r\n            id={el.id}\r\n            preview=\"Author\"\r\n          />\r\n        ))}\r\n      <NewDocButton />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default BasicPage;\r\n",["41","42"],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\index.js",[],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\NewDocButton.js",[],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\DocItem.js",[],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\App.js",[],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\EditPage.js",["43","44","45"],"import React, { useState, useEffect } from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { convertToHTML } from \"draft-convert\";\r\nimport {\r\n  EditorState,\r\n  convertToRaw,\r\n  convertFromRaw,\r\n  ContentState,\r\n} from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport DOMPurify from \"dompurify\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport styled from \"styled-components\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 16px;\r\n\r\n  .rich-wrapper {\r\n    margin: 22px auto;\r\n  }\r\n  .rich-wrapper div {\r\n    border-radius: 8px;\r\n  }\r\n  .rdw-option-active {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n  }\r\n  .rich-editor {\r\n    border: 1px solid rgba(0, 0, 0, 0.2);\r\n    background-color: #f1f1f1;\r\n    border-radius: 8px;\r\n    margin: 22px auto;\r\n    padding: 5px 10px;\r\n  }\r\n`;\r\n\r\nconst SubmitButton = styled(Button)`\r\n  background-color: rgba(5, 70, 90, 0.75);\r\n  color: #fff;\r\n  :hover {\r\n    background-color: rgba(5, 70, 90, 0.5);\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\n// @TODO MODAL NOT SAVED\r\nconst CancelButton = styled(Button)`\r\n  background-color: rgba(70, 70, 70, 0.5);\r\n  color: #fff;\r\n  margin-right: 16px;\r\n  :hover {\r\n    background-color: rgba(120, 120, 120, 0.5);\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nfunction EditPage() {\r\n  // @TODO if ID edit else new\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [convertedContent, setConvertedContent] = useState(null);\r\n  const [editorState, setEditorState] = useState(() =>\r\n    EditorState.createEmpty()\r\n  );\r\n\r\n  useEffect(() => {\r\n    const blocks = convertToRaw(editorState.getCurrentContent()).blocks;\r\n    const value = blocks\r\n      .map((block) => (!block.text.trim() && \"\\n\") || block.text)\r\n      .join(\"\\n\");\r\n    console.log(blocks, value);\r\n  }, [editorState]);\r\n\r\n  const handleChange = (editorState) => {\r\n    setEditorState(editorState);\r\n    convertContentToHTML();\r\n    // console.log(editorState);\r\n  };\r\n\r\n  const convertContentToHTML = () => {\r\n    let currentContentAsHTML = convertToHTML(editorState.getCurrentContent());\r\n    setConvertedContent(currentContentAsHTML);\r\n    console.log(currentContentAsHTML);\r\n  };\r\n\r\n  const createMarkup = (html) => {\r\n    return {\r\n      __html: DOMPurify.sanitize(html),\r\n    };\r\n  };\r\n\r\n  const cancelAndReturn = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  // @TODO refactor this\r\n  const handleDocPost = () => {\r\n    const contentState = editorState.getCurrentContent();\r\n    const raw = convertToRaw(contentState);\r\n\r\n    fetch(\"http://localhost:3002/tutorials\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ content: raw }, null, 2),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(\"Success:\", data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  // IMG URL\r\n  // https://images.unsplash.com/photo-1619694810130-50021400dbb1?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h2\" style={{ fontSize: \"2.2rem\" }}>\r\n        Docs\r\n      </Typography>\r\n      <Editor\r\n        editorState={editorState}\r\n        toolbarClassName=\"rich-toolbar\"\r\n        wrapperClassName=\"rich-wrapper\"\r\n        editorClassName=\"rich-editor\"\r\n        onEditorStateChange={handleChange}\r\n      />\r\n\r\n      <div\r\n        style={{ backgroundColor: \"black\", color: \"white\" }}\r\n        dangerouslySetInnerHTML={createMarkup(convertedContent)}\r\n      ></div>\r\n      <CancelButton variant=\"contained\" onClick={cancelAndReturn}>\r\n        Cancel\r\n      </CancelButton>\r\n      <SubmitButton variant=\"contained\" onClick={handleDocPost}>\r\n        Submit\r\n      </SubmitButton>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default EditPage;\r\n","D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\components\\SearchBox.js",[],"D:\\Stefanos All Files\\Web Development\\Projects\\Doc Manager\\DocKeeper\\src\\routes\\DocPage.js",["46","47","48","49","50","51","52","53","54"],{"ruleId":"55","severity":1,"message":"56","line":3,"column":3,"nodeType":"57","messageId":"58","endLine":3,"endColumn":7},{"ruleId":"55","severity":1,"message":"59","line":4,"column":3,"nodeType":"57","messageId":"58","endLine":4,"endColumn":8},{"ruleId":"55","severity":1,"message":"60","line":6,"column":3,"nodeType":"57","messageId":"58","endLine":6,"endColumn":9},{"ruleId":"55","severity":1,"message":"61","line":34,"column":9,"nodeType":"57","messageId":"58","endLine":34,"endColumn":16},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"55","severity":1,"message":"66","line":7,"column":3,"nodeType":"57","messageId":"58","endLine":7,"endColumn":17},{"ruleId":"55","severity":1,"message":"67","line":8,"column":3,"nodeType":"57","messageId":"58","endLine":8,"endColumn":15},{"ruleId":"55","severity":1,"message":"68","line":61,"column":11,"nodeType":"57","messageId":"58","endLine":61,"endColumn":13},{"ruleId":"55","severity":1,"message":"69","line":3,"column":8,"nodeType":"57","messageId":"58","endLine":3,"endColumn":17},{"ruleId":"55","severity":1,"message":"70","line":5,"column":10,"nodeType":"57","messageId":"58","endLine":5,"endColumn":23},{"ruleId":"55","severity":1,"message":"71","line":7,"column":26,"nodeType":"57","messageId":"58","endLine":7,"endColumn":38},{"ruleId":"55","severity":1,"message":"72","line":25,"column":10,"nodeType":"57","messageId":"58","endLine":25,"endColumn":26},{"ruleId":"55","severity":1,"message":"73","line":25,"column":28,"nodeType":"57","messageId":"58","endLine":25,"endColumn":47},{"ruleId":"55","severity":1,"message":"74","line":26,"column":10,"nodeType":"57","messageId":"58","endLine":26,"endColumn":21},{"ruleId":"55","severity":1,"message":"75","line":26,"column":23,"nodeType":"57","messageId":"58","endLine":26,"endColumn":37},{"ruleId":"55","severity":1,"message":"76","line":27,"column":10,"nodeType":"57","messageId":"58","endLine":27,"endColumn":24},{"ruleId":"55","severity":1,"message":"77","line":27,"column":26,"nodeType":"57","messageId":"58","endLine":27,"endColumn":43},"no-unused-vars","'Grid' is defined but never used.","Identifier","unusedVar","'Paper' is defined but never used.","'Button' is defined but never used.","'history' is assigned a value but never used.","no-native-reassign",["78"],"no-negated-in-lhs",["79"],"'convertFromRaw' is defined but never used.","'ContentState' is defined but never used.","'id' is assigned a value but never used.","'DOMPurify' is defined but never used.","'convertToHTML' is defined but never used.","'convertToRaw' is defined but never used.","'convertedContent' is assigned a value but never used.","'setConvertedContent' is assigned a value but never used.","'hideToolbar' is assigned a value but never used.","'setHideToolbar' is assigned a value but never used.","'newEditorState' is assigned a value but never used.","'setNewEditorState' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]